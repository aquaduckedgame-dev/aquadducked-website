<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AquaDucked! - A Physics Puzzle Game</title>

    <!-- App Links for Android -->
    <meta property="al:android:url" content="aquaducked://level/">
    <meta property="al:android:package" content="com.nick.aquaducked">
    <meta property="al:android:app_name" content="AquaDucked!">
    <meta property="al:web:url" content="https://aquaduckedgame.com">

    <!-- Open Graph for sharing -->
    <meta property="og:title" content="AquaDucked! - A Physics Puzzle Game">
    <meta property="og:description" content="Guide your rubber duck to safety using hoses, slides, trampolines and more! Create and share your own levels.">
    <meta property="og:image" content="https://aquaduckedgame.com/logo.png">
    <meta property="og:url" content="https://aquaduckedgame.com">
    <meta property="og:type" content="website">

    <link rel="icon" type="image/png" href="logo.png">

    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0d1926;
            min-height: 100vh;
            color: #fff;
            overflow-x: hidden;
        }

        /* Water wave animation at bottom */
        .water-bg {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 150px;
            background: linear-gradient(to bottom, transparent, rgba(32, 128, 192, 0.3));
            pointer-events: none;
            z-index: 0;
        }

        .water-bg::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: -50%;
            right: -50%;
            height: 80px;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 120'%3E%3Cpath fill='rgba(64,160,220,0.4)' d='M0,60 C300,120 600,0 900,60 C1050,90 1150,30 1200,60 L1200,120 L0,120 Z'/%3E%3C/svg%3E") repeat-x;
            animation: wave 15s ease-in-out infinite;
        }

        .water-bg::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: -50%;
            right: -50%;
            height: 60px;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 120'%3E%3Cpath fill='rgba(32,128,192,0.5)' d='M0,60 C300,0 600,120 900,60 C1050,30 1150,90 1200,60 L1200,120 L0,120 Z'/%3E%3C/svg%3E") repeat-x;
            animation: wave 15s ease-in-out infinite;
            animation-delay: -7.5s;
        }

        @keyframes wave {
      0%, 100% { transform: translateX(-10%); }
      50% { transform: translateX(10%); }
  }

        /* Main container */
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
            position: relative;
            z-index: 1;
        }

        /* Header */
        header {
            text-align: center;
            margin-bottom: 50px;
        }

        .logo {
      max-width: 200px;
      height: auto;
      margin-bottom: 20px;
      filter: drop-shadow(0 4px 20px rgba(255, 215, 0, 0.3));
      animation: float 3s ease-in-out infinite;
  }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        h1 {
            font-size: 3.5rem;
            color: #ffd700;
            text-shadow: 0 2px 10px rgba(255, 215, 0, 0.3);
            margin-bottom: 10px;
        }

        .tagline {
            font-size: 1.4rem;
            color: #87ceeb;
            margin-bottom: 30px;
        }

        /* Hero section */
        .hero {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .hero p {
            font-size: 1.2rem;
            line-height: 1.8;
            color: #ccd;
            margin-bottom: 20px;
        }

        /* Features */
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .feature {
            background: rgba(135, 206, 235, 0.1);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid rgba(135, 206, 235, 0.2);
            transition: transform 0.3s, background 0.3s;
        }

        .feature:hover {
            transform: translateY(-5px);
            background: rgba(135, 206, 235, 0.15);
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .feature h3 {
            color: #ffd700;
            margin-bottom: 10px;
        }

        .feature p {
            color: #aab;
            font-size: 0.95rem;
        }

        /* Download buttons */
        .download-section {
            text-align: center;
            margin: 40px 0;
        }

        .download-btn {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            background: linear-gradient(135deg, #ffd700, #ffaa00);
            color: #1a1a2e;
            padding: 18px 40px;
            font-size: 1.3rem;
            font-weight: bold;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            text-decoration: none;
            transition: transform 0.3s, box-shadow 0.3s;
            box-shadow: 0 4px 20px rgba(255, 215, 0, 0.3);
        }

        .download-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 30px rgba(255, 215, 0, 0.4);
        }

        .download-btn.secondary {
            background: linear-gradient(135deg, #4a9eff, #2080dd);
            color: white;
            box-shadow: 0 4px 20px rgba(74, 158, 255, 0.3);
        }

        .download-btn.secondary:hover {
            box-shadow: 0 6px 30px rgba(74, 158, 255, 0.4);
        }

        .btn-icon {
            font-size: 1.5rem;
        }

        .download-note {
            margin-top: 15px;
            color: #889;
            font-size: 0.9rem;
        }

        /* The Pond section */
        .pond-section {
            background: rgba(255, 215, 0, 0.1);
            border-radius: 20px;
            padding: 40px;
            margin: 40px 0;
            border: 1px solid rgba(255, 215, 0, 0.2);
            text-align: center;
        }

        .pond-section h2 {
            color: #ffd700;
            font-size: 2rem;
            margin-bottom: 15px;
        }

        .pond-section p {
            color: #ccd;
            font-size: 1.1rem;
            margin-bottom: 20px;
        }

        /* QR Code redirect overlay (shown when accessing /level/xxx) */
        .qr-redirect-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(13, 25, 38, 0.98);
            z-index: 100;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .qr-redirect-overlay.active {
            display: flex;
        }

        .qr-redirect-card {
            background: linear-gradient(135deg, #1a3a5a, #0d1926);
            border-radius: 25px;
            padding: 50px;
            text-align: center;
            max-width: 500px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .qr-redirect-card .logo {
            width: 120px;
            height: 120px;
        }

        .qr-redirect-card h2 {
            color: #ffd700;
            font-size: 1.8rem;
            margin: 20px 0;
        }

        .qr-redirect-card p {
            color: #aab;
            font-size: 1.1rem;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .qr-redirect-card .level-name {
            background: rgba(135, 206, 235, 0.2);
            padding: 15px 25px;
            border-radius: 10px;
            color: #87ceeb;
            font-size: 1.2rem;
            margin-bottom: 30px;
            word-break: break-all;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 40px 20px;
            color: #667;
            font-size: 0.9rem;
        }

        footer a {
            color: #87ceeb;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* Responsive */
        @media (max-width: 600px) {
            h1 {
                font-size: 2.5rem;
            }

            .tagline {
                font-size: 1.1rem;
            }

            .hero, .pond-section {
                padding: 25px;
            }

            .download-btn {
                padding: 15px 30px;
                font-size: 1.1rem;
            }

            .qr-redirect-card {
                padding: 30px;
            }
        }
    </style>
</head>
<body>
    <!-- Water background animation -->
    <div class="water-bg"></div>

    <!-- QR Code Redirect Overlay -->
    <div id="qrRedirect" class="qr-redirect-overlay">
        <div class="qr-redirect-card">
            <img src="logo_transparent.png" alt="AquaDucked!" class="logo">
            <h2>Level Shared With You!</h2>
            <div id="levelInfo" class="level-name" style="display: none;"></div>
            <p>Someone shared an AquaDucked! level with you. Get the app to play it!</p>
            <a href="#" id="storeLink" class="download-btn">
                <span class="btn-icon">üì±</span>
                Get AquaDucked!
            </a>
            <p class="download-note" style="margin-top: 20px;">
                <a href="/" style="color: #87ceeb;">‚Üê Back to website</a>
            </p>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container">
        <header>
            <img src="logo_transparent.png" alt="AquaDucked!" class="logo">
            <h1>AquaDucked!</h1>
            <p class="tagline">A Physics Puzzle Game</p>
        </header>

        <section class="hero">
            <p>
                Help your rubber duck follow Mama Duck through 10 worlds of adventure and challenge!
      Strategically place hoses, slides, trampolines, fans, and more during the planning phase,
      then watch the physics unfold as your duck bounces, slides, and splashes
      its towards Mama.
            </p>

            <div class="features">
      <div class="feature">
          <div class="feature-icon">üé®</div>
          <h3>Level Editor</h3>
          <p>Build your own puzzles with an intuitive editor</p>
      </div>
      <div class="feature">
          <div class="feature-icon">üì§</div>
          <h3>Share Levels</h3>
          <p>Share via QR code or upload to The Pond</p>
      </div>
      <div class="feature">
          <div class="feature-icon">ü¶Ü</div>
          <h3>Physics Fun</h3>
          <p>Realistic water and bouncy physics</p>
      </div>
      <div class="feature">
          <div class="feature-icon">üåä</div>
          <h3>The Pond</h3>
          <p>Play thousands of community levels</p>
      </div>
  </div>
        </section>

        <section class="download-section">
            <a href="#" id="mainDownloadBtn" class="download-btn">
                <span class="btn-icon">üì±</span>
                Download for Android
            </a>
            <p class="download-note">Coming soon to Google Play Store</p>
            <!-- Future: Add iOS button
            <a href="#" class="download-btn secondary" style="margin-left: 15px;">
                <span class="btn-icon">üçé</span>
                Download for iOS
            </a>
            -->
        </section>

        <section class="pond-section">
            <h2>üåä The Pond</h2>
            <p>
                Discover thousands of community-created levels right in the game!
                Browse, play, and share your favorites. Create your own levels
                with the built-in editor and upload them for the world to enjoy.
            </p>
            <p style="color: #889; font-size: 0.95rem;">
                The Pond is accessible from the main menu in-game.
            </p>
        </section>

        <footer>
            <p>ü¶Ü A game by NickTheDuck ü¶Ü</p>
            <p style="margin-top: 10px;">
                <a href="mailto:aquaduckedgame@gmail.com">Contact</a> ¬∑
                <a href="/privacy">Privacy Policy</a>
            </p>
        </footer>
    </div>

    <script>
        // Detect if this is a level share link
        // Formats: /level/xxx or ?level=xxx (legacy from old portal)
        function checkForLevelLink() {
            const path = window.location.pathname;
            const params = new URLSearchParams(window.location.search);

            let levelData = null;

            // Check /level/xxx format (from QR codes)
            if (path.startsWith('/level/')) {
                levelData = path.substring(7); // Remove '/level/'
            }
            // Check ?level=xxx format (legacy portal links)
            else if (params.has('level')) {
                levelData = params.get('level');
            }

            if (levelData) {
                showQRRedirect(levelData);
            }
        }

        function showQRRedirect(levelData) {
            const overlay = document.getElementById('qrRedirect');
            const levelInfo = document.getElementById('levelInfo');
            const storeLink = document.getElementById('storeLink');

            // Try to detect if it's a level ID (number) or encoded level data
            if (/^\d+$/.test(levelData)) {
                // Legacy portal level ID - just show generic message
                levelInfo.style.display = 'none';
            } else {
                // Encoded level data from QR code
                // We could try to decode it to show level name, but for now just indicate it's a shared level
                levelInfo.textContent = 'Shared Level';
                levelInfo.style.display = 'block';
            }

            // Detect platform and set appropriate store link
            const userAgent = navigator.userAgent.toLowerCase();
            const isAndroid = userAgent.includes('android');
            const isIOS = /iphone|ipad|ipod/.test(userAgent);

            if (isAndroid) {
                // Try to open the app first, fall back to Play Store
                // For now, link to Play Store (update this URL when you have one)
                storeLink.href = 'https://play.google.com/store/apps/details?id=com.nick.aquaducked';
                storeLink.innerHTML = '<span class="btn-icon">‚ñ∂Ô∏è</span> Get on Google Play';

                // Try to open the app directly
                const appLink = 'aquaducked://level/' + levelData;
                setTimeout(() => {
                    window.location.href = appLink;
                }, 100);
            } else if (isIOS) {
                // Future: Link to App Store
                storeLink.href = '#';
                storeLink.innerHTML = '<span class="btn-icon">üçé</span> Coming to iOS';
            } else {
                // Desktop - show general download info
                storeLink.href = '#';
                storeLink.innerHTML = '<span class="btn-icon">üì±</span> Available on Mobile';
            }

            overlay.classList.add('active');
        }

        // Update main download button based on platform
        function updateDownloadButton() {
            const btn = document.getElementById('mainDownloadBtn');
            const userAgent = navigator.userAgent.toLowerCase();
            const isAndroid = userAgent.includes('android');
            const isIOS = /iphone|ipad|ipod/.test(userAgent);

            if (isAndroid) {
                btn.href = 'https://play.google.com/store/apps/details?id=com.nick.aquaducked';
                btn.innerHTML = '<span class="btn-icon">‚ñ∂Ô∏è</span> Get on Google Play';
            } else if (isIOS) {
                btn.href = '#';
                btn.innerHTML = '<span class="btn-icon">üçé</span> Coming to iOS';
            }
            // Desktop keeps default
        }

        // Run on page load
        document.addEventListener('DOMContentLoaded', () => {
            checkForLevelLink();
            updateDownloadButton();
        });
    </script>
</body>
</html>
